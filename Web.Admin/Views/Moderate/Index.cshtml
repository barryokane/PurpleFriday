@{
    ViewData["Title"] = "Moderate";
}
<h1>Moderate</h1>

<style>
    #imageStream img {
        width: 200px;
        height: 200px;
        margin: 6px; cursor: pointer;
    }
</style>

<div id="imageStream">
</div>

<div id="editModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Moderate Tweet</h4>
      </div>
      <div class="modal-body">
          <form>
              TweetId: <input id="TweetId" type="text" value="" disabled />
              <br />
              Img <input id="Img" type="text" value="" />
              <br />
              Tweet Text <input id="Text" type="text" value="" />
              <br />
              CreatedDate <input id="CreatedDate" type="text" value="" disabled />
              <br />
              TwitterHandle <input id="TwitterHandle" type="text" value="" disabled />
              <br />
              TweetUrl <input id="TweetUrl" type="text" value="" disabled />
              <br />
              LocationConfidence <input id="LocationConfidence" type="text" value="" disabled />
              <br />
              Geo <input id="Geo" type="text" value="" />
              <br />
              Show on Map? <input type="checkbox" name="show" value="" />
          </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->



@section Scripts {


<script>$(function () {
        UpdateImages();
    });

    function ShowEdit(id) {
        $.get("/api/map/" + id, function (data) {
            $('#editModal').modal('show');
            $('#TweetId').val(data.tweetId);
            $('#Img').val(data.img);
            $('#CreatedDate').val(data.createdDate);
            $('#TwitterHandle').val(data.twitterHandle);
            $('#TweetUrl').val(data.tweetUrl);
            $('#Text').val(data.text);
            $('#LocationConfidence').val(data.locationConfidence);
            $('#Geo').val(data.geo);
        });
    }

    function UpdateImages() {
        $.get("/api/map", function (data) {
            for (i = 0; i < data.length; i++) {
                $("#imageStream").prepend($('<img>', { class: 'editClick', id: data[i].tweetId, src: data[i].img }));
            }

            $('.editClick').on("click",
                function () { ShowEdit($(this).attr('id')); }
            );
        });
    }</script>
}